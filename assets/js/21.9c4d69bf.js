(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{651:function(e,l,s){"use strict";s.r(l);var a=s(15),t=Object(a.a)({},(function(){var e=this,l=e.$createElement,s=e._self._c||l;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"sql-block-rule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sql-block-rule"}},[e._v("#")]),e._v(" SQL Block Rule")]),e._v(" "),s("p",[e._v("Support SQL block rule by user level, by regex way to deny specify SQL")]),e._v(" "),s("h2",{attrs:{id:"rule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rule"}},[e._v("#")]),e._v(" Rule")]),e._v(" "),s("p",[e._v("SQL block rule CRUD")]),e._v(" "),s("ul",[s("li",[e._v("create SQL block rule\n"),s("ul",[s("li",[e._v("sql：Regex pattern，Special characters need to be translated")]),e._v(" "),s("li",[e._v("sqlHash: Sql hash value, Used to match exactly, We print it in fe.audit.log")]),e._v(" "),s("li",[e._v("global: Whether global(all users)is in effect, false by default")]),e._v(" "),s("li",[e._v("enable：Whether to enable block rule，true by default")])])])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('CREATE SQL_BLOCK_RULE test_rule PROPERTIES("sql"="select \\\\* from test_table","sqlHash":null,"global"="false","enable"="true")\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("show configured SQL block rules, or show all rules if you do not specify a rule name")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("SHOW SQL_BLOCK_RULE [FOR RULE_NAME]\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("alter SQL block rule，Allows changes sql/global/enable anyone")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('ALTER SQL_BLOCK_RULE test_rule PROPERTIES("sql"="select \\\\* from test_table","enable"="true")\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("drop SQL block rule，Support multiple rules, separated by "),s("code",[e._v(",")])])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("DROP SQL_BLOCK_RULE test_rule1,test_rule2\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"user-bind-rules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#user-bind-rules"}},[e._v("#")]),e._v(" User bind rules")]),e._v(" "),s("p",[e._v("If global=false is configured, the rules binding for the specified user needs to be configured, with multiple rules separated by ', '")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("SET PROPERTY [FOR 'jack'] 'sql_block_rules' = 'test_rule1,test_rule2'\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])])])}),[],!1,null,null,null);l.default=t.exports}}]);