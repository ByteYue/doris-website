(window.webpackJsonp=window.webpackJsonp||[]).push([[1794],{2421:function(e,a,s){"use strict";s.r(a);var t=s(15),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"tracing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tracing"}},[e._v("#")]),e._v(" tracing")]),e._v(" "),s("p",[e._v("Tracing records the life cycle of a request execution in the system, including the request and its sub-procedure call links, execution time and statistics, which can be used for slow query location, performance bottleneck analysis, etc.")]),e._v(" "),s("h1",{attrs:{id:"operation-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#operation-process"}},[e._v("#")]),e._v(" Operation process")]),e._v(" "),s("h2",{attrs:{id:"deploy-distributed-tracing-system"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy-distributed-tracing-system"}},[e._v("#")]),e._v(" Deploy distributed tracing system")]),e._v(" "),s("p",[e._v("Currently supports "),s("a",{attrs:{href:"https://zipkin.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Zipkin"),s("OutboundLink")],1),e._v(" ï¼ŒMore ldistributed tracing systems will be supported in the future.")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("curl -sSL https://zipkin.io/quickstart.sh | bash -s\njava -jar zipkin.jar\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h2",{attrs:{id:"configuring-and-starting-doris"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuring-and-starting-doris"}},[e._v("#")]),e._v(" Configuring and starting Doris")]),e._v(" "),s("h3",{attrs:{id:"add-configuration-to-fe-conf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-configuration-to-fe-conf"}},[e._v("#")]),e._v(" Add configuration to fe.conf")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("enable_tracing = true\n\n# Configure traces to export to zipkin\ntrace_export_url = http://127.0.0.1:9411/api/v2/spans\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("h3",{attrs:{id:"add-configuration-to-be-conf"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-configuration-to-be-conf"}},[e._v("#")]),e._v(" Add configuration to be.conf")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("enable_tracing = true\n\n# Configure traces to export to zipkin\ntrace_export_url = http://127.0.0.1:9411/api/v2/spans\n\n# Queue size for caching spans. span export will be triggered once when the number of spans reaches half of the queue capacity. spans arriving in the queue will be discarded when the queue is full.\nmax_span_queue_size=2048\n\n# The maximum number of spans to export in a single pass.\nmax_span_export_batch_size=512\n\n# Maximum interval for exporting span\nexport_span_schedule_delay_millis=500\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br")])]),s("h3",{attrs:{id:"start-fe-and-be"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-fe-and-be"}},[e._v("#")]),e._v(" Start fe and be")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sh fe/bin/start_fe.sh --daemon\nsh be/bin/start_be.sh --daemon\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h3",{attrs:{id:"executing-a-query"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#executing-a-query"}},[e._v("#")]),e._v(" Executing a query")]),e._v(" "),s("h3",{attrs:{id:"view-zipkin-ui"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#view-zipkin-ui"}},[e._v("#")]),e._v(" View zipkin UI")]),e._v(" "),s("p",[e._v("The browser opens "),s("code",[e._v("http://127.0.0.1:9411/zipkin/")]),e._v(" to view the query tracing.")])])}),[],!1,null,null,null);a.default=n.exports}}]);