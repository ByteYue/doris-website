"use strict";(self.webpackChunkselectdb_portal=self.webpackChunkselectdb_portal||[]).push([[16920],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>u});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),d=p(a),u=r,h=d["".concat(s,".").concat(u)]||d[u]||c[u]||l;return a?n.createElement(h,i(i({ref:t},m),{},{components:a})):n.createElement(h,i({ref:t},m))}));function u(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},56869:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const l={title:"Getting-Started",language:"en"},i=void 0,o={unversionedId:"get-starting/get-starting",id:"get-starting/get-starting",title:"Getting-Started",description:"\x3c!--",source:"@site/docs/get-starting/get-starting.md",sourceDirName:"get-starting",slug:"/get-starting/",permalink:"/docs/get-starting/",draft:!1,tags:[],version:"current",frontMatter:{title:"Getting-Started",language:"en"},sidebar:"docs",next:{title:"Introduction to Apache Doris",permalink:"/docs/summary/basic-summary"}},s={},p=[{value:"Environmental preparation",id:"environmental-preparation",level:2},{value:"Stand-alone deployment",id:"stand-alone-deployment",level:2},{value:"Apache Doris is easy to use",id:"apache-doris-is-easy-to-use",level:2},{value:"Apache Doris Web UI access",id:"apache-doris-web-ui-access",level:3},{value:"MySQL command line/graphical client access",id:"mysql-command-linegraphical-client-access",level:3},{value:"Profile settings",id:"profile-settings",level:4},{value:"Library table operations",id:"library-table-operations",level:4},{value:"Insert Data",id:"insert-data",level:4},{value:"Query Data",id:"query-data",level:4},{value:"Update Data",id:"update-data",level:4},{value:"Delete Data",id:"delete-data",level:4}],m={toc:p};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"getting-started"},"Getting Started"),(0,r.kt)("h2",{id:"environmental-preparation"},"Environmental preparation"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"CPU: 2C (minimum) 8C (recommended)"),(0,r.kt)("li",{parentName:"ol"},"Memory: 4G (minimum) 48G (recommended)"),(0,r.kt)("li",{parentName:"ol"},"Hard disk: 100G (minimum) 400G (recommended)"),(0,r.kt)("li",{parentName:"ol"},"Platform: MacOS (Intel), LinuxOS, Windows virtual machine"),(0,r.kt)("li",{parentName:"ol"},"System: CentOS (7.1 and above), Ubuntu (16.04 and above)"),(0,r.kt)("li",{parentName:"ol"},"Software: JDK (1.8 and above), GCC (4.8.2 and above)")),(0,r.kt)("h2",{id:"stand-alone-deployment"},"Stand-alone deployment"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Before creating, please prepare the compiled FE/BE file, this tutorial will not repeat the compilation process.")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Set the maximum number of open file handles in the system"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"vi /etc/security/limits.conf \n# Add the following two lines of information\n* soft nofile 65536\n* hard nofile 65536\n# Save and exit and restart the server\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Download binary package / self-compile FE / BE files"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"wget https://dist.apache.org/repos/dist/release/incubator/doris/version to deploy\n# For example the following link\nwget https://dist.apache.org/repos/dist/release/incubator/doris/1.0/1.0.0-incubating/apache-doris-1.0.0-incubating-bin.tar.gz\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Extract the tar.gz file"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"tar -zxvf Downloaded binary archive\n# example\ntar -zxvf apache-doris-1.0.0-incubating-bin.tar.gz\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Migrate the decompressed program files to the specified directory and rename them"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mv [unzipped root directory] [Target path]\ncd [Target path]\n# example\nmv apache-doris-1.0.0-incubating-bin /opt/doris\ncd /opt/doris\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Configure FE"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# Configure FE-Config\nvi fe/conf/fe.conf\n# Uncomment priority_networks and modify parameters\npriority_networks = 127.0.0.0/24\n# save and exit\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Configure BE"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# Configure BE-Config\nvi be/conf/be.conf\n# Uncomment priority_networks and modify parameters\npriority_networks = 127.0.0.0/24\n# save and exit\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Configure environment variables"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# Configure environment variables\nvim /etc/profile.d/doris.sh\nexport DORIS_HOME=Doris root path # example:/opt/doris\nexport PATH=$PATH:$DORIS_HOME/fe/bin:$DORIS_HOME/be/bin\n# save and source\nsource /etc/profile.d/doris.sh\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Start FE and BE and register BE to FE"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"start_fe.sh --daemon\nstart_be.sh --daemon\n")),(0,r.kt)("p",{parentName:"li"},"Check whether the FE startup is successful"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"Check whether the startup is successful, and whether there is a PaloFe process under the JPS command"),(0,r.kt)("li",{parentName:"ol"},"After the FE process is started, the metadata will be loaded first. Depending on the role of the FE, you will see transfer from UNKNOWN to MASTER/FOLLOWER/OBSERVER in the log. Finally, you will see the thrift server started log, and you can connect to FE through the mysql client, which means FE started successfully."),(0,r.kt)("li",{parentName:"ol"},'You can also check whether the startup is successful through the following connection: http://fe_host:fe_http_port/api/bootstrap If it returns: {"status":"OK","msg":"Success"}, it means the startup is successful, and the rest , there may be a problem.'),(0,r.kt)("li",{parentName:"ol"},"Visit http://fe_host:fe_http_port in the external environment to check whether you can access the WebUI interface. The default login account is root and the password is empty.")),(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note: If you can't see the startup failure information in fe.log, maybe you can see it in fe.out."))),(0,r.kt)("p",{parentName:"li"},"Verify that BE is successfully started"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"After the BE process is started, if there is data before, it may take several minutes to load the data index."),(0,r.kt)("li",{parentName:"ol"},"If it is the first start of a BE, or the BE has not joined any cluster, the BE log will periodically scroll waiting to receive first heartbeat from frontend. Indicates that the BE has not received the Master's address through the heart hop of the FE, and is passively waiting. This kind of error log will disappear after ADD BACKEND in FE and sending a heartbeat. If the words master client, get client from cache failed.host: , port: 0, code: 7 appear repeatedly after receiving the heart hop, it means that the FE has successfully connected to the BE, but the BE cannot actively connect to the FE. It may be necessary to check the connectivity of BE to FE's rpc_port."),(0,r.kt)("li",{parentName:"ol"},"If the BE has been added to the cluster, the heartbeat log from the FE should be scrolled every 5 seconds: get heartbeat, host: xx.xx.xx.xx, port: 9020, cluster id: xxxxxx , Indicates that the heartbeat is normal."),(0,r.kt)("li",{parentName:"ol"},"Secondly, the words finish report task success. return code: 0 should be scrolled in the log every 10 seconds, indicating that the communication between BE and FE is normal."),(0,r.kt)("li",{parentName:"ol"},"At the same time, if there is a data query, you should be able to see the log that keeps scrolling, and there is a log of execute time is xxx, indicating that the BE has been started successfully and the query is normal."),(0,r.kt)("li",{parentName:"ol"},'You can also check whether the startup is successful through the following connection: http://be_host:be_http_port/api/health If it returns: {"status": "OK","msg": "To Be Added"}, it means the startup is successful, In other cases, there may be problems.')),(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Note: If you can't see the startup failure information in be.INFO, maybe you can see it in be.out."))),(0,r.kt)("p",{parentName:"li"},"Register BE to FE (using MySQL-Client, you need to install it yourself)"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'# login\nmysql -h 127.0.0.1 -P 9030 -uroot\n# Register BE\nALTER SYSTEM ADD BACKEND "127.0.0.1:9050";\n')))),(0,r.kt)("h2",{id:"apache-doris-is-easy-to-use"},"Apache Doris is easy to use"),(0,r.kt)("p",null,"Doris uses the MySQL protocol for communication, and users can connect to the Doris cluster through MySQL Client or MySQL JDBC. When choosing the MySQL client version, it is recommended to use a version after 5.1, because the user name longer than 16 characters cannot be supported before 5.1. Doris SQL syntax basically covers MySQL syntax."),(0,r.kt)("h3",{id:"apache-doris-web-ui-access"},"Apache Doris Web UI access"),(0,r.kt)("p",null,"By default, Http protocol is used for WebUI access, and the following format address is entered in the browser to access"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"http://FE_IP:FE_HTTP_PORT(\u9ed8\u8ba48030)\n")),(0,r.kt)("p",null,"If the account password is changed during cluster installation, use the new account password to log in"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Default account: root\nDefault password: empty\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Introduction to WebUI"),(0,r.kt)("p",{parentName:"li"},"On the home page of FE-WEB-UI, Version and Hardware Info are listed"),(0,r.kt)("p",{parentName:"li"},"The Tab page has the following six modules:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Playground (Visual SQL)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"System (system status)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Log (cluster log)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"QueryProfile (SQL execution log)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Session (linked list)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Configuration")))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"View the BE list"),(0,r.kt)("p",{parentName:"li"},"Go to ",(0,r.kt)("inlineCode",{parentName:"p"},"System")," --\x3e ",(0,r.kt)("inlineCode",{parentName:"p"},"backends")," to view"),(0,r.kt)("p",{parentName:"li"},"What needs to be paid attention to is the ",(0,r.kt)("inlineCode",{parentName:"p"},"Alive")," column, the ",(0,r.kt)("inlineCode",{parentName:"p"},"True")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"False")," of this column represent the normal and abnormal status of the corresponding BE node")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"profile query"),(0,r.kt)("p",{parentName:"li"},"Enter QueryProfile to view the latest 100 SQL execution report information, click the specified ID in the QueryID column to view the Profile information"))),(0,r.kt)("h3",{id:"mysql-command-linegraphical-client-access"},"MySQL command line/graphical client access"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# Command Line\nmysql -h FE-host -P 9030 -u username -p password\n# Client (Navicat as an example)\nHost: FE-host (if it is a cloud server, public IP is required)\nPort: 9030\nusername: username\npassword password\n")),(0,r.kt)("h4",{id:"profile-settings"},"Profile settings"),(0,r.kt)("p",null,"FE splits the query plan into fragments and sends them to BE for task execution. When BE executes Fragment, it records ",(0,r.kt)("strong",{parentName:"p"},"statistical value of running state"),", and outputs the statistics of Fragment execution to the log. FE can also collect these statistical values recorded by each Fragment through switches, and print the results on the FE web page."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Turn on the Report switch of FE"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"set enable_profile=true;\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"After executing the SQL statement, you can view the corresponding SQL statement execution report information on the FE's WEB-UI interface"))),(0,r.kt)("p",null,"For a complete parameter comparison table, please go to ",(0,r.kt)("a",{parentName:"p",href:"/docs/admin-manual/query-profile"},"Profile parameter analysis")," View Details"),(0,r.kt)("h4",{id:"library-table-operations"},"Library table operations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"View database list"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"show databases;\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"create database"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"CREATE DATABASE database name;\n")),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"For more detailed syntax and best practices used by Create-DataBase, see ",(0,r.kt)("a",{parentName:"p",href:"/docs/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-DATABASE"},"Create-DataBase")," command manual."),(0,r.kt)("p",{parentName:"blockquote"},"If you don't know the full name of the command, you can use \"help command a field\" for fuzzy query. If you type 'HELP CREATE', you can match ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE DATABASE"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE TABLE"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE USER")," and other commands.")),(0,r.kt)("p",{parentName:"li"}," After the database is created, you can view the database information through ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW DATABASES;"),"."),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"MySQL> SHOW DATABASES;\n+--------------------+\n| Database |\n+--------------------+\n| example_db |\n| information_schema |\n+--------------------+\n2 rows in set (0.00 sec)\n")),(0,r.kt)("p",{parentName:"li"}," ",(0,r.kt)("inlineCode",{parentName:"p"},"information_schema")," exists to be compatible with the MySQL protocol. In practice, the information may not be very accurate, so it is recommended to obtain information about a specific database by directly querying the corresponding database.\n")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Create data table"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"For more detailed syntax and best practices used by Create-Table, see ",(0,r.kt)("a",{parentName:"p",href:"/docs/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE"},"Create-Table")," command manual.")),(0,r.kt)("p",{parentName:"li"},"Use the ",(0,r.kt)("inlineCode",{parentName:"p"},"CREATE TABLE")," command to create a table (Table). More detailed parameters can be viewed:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"HELP CREATE TABLE;\n")),(0,r.kt)("p",{parentName:"li"},"First switch the database:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"USE example_db;\n")),(0,r.kt)("p",{parentName:"li"},"Doris supports two table creation methods, single partition and composite partition (for details, please refer to ",(0,r.kt)("a",{parentName:"p",href:"/docs/sql-manual/sql-reference/Data-Definition-Statements/Create/CREATE-TABLE"},"Create-Table")," command manual)."),(0,r.kt)("p",{parentName:"li"},"The following takes the aggregation model as an example to demonstrate the table building statements for two partitions."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"single partition"),(0,r.kt)("p",{parentName:"li"},"Create a logical table named table1. The bucketed column is siteid, and the number of buckets is 10."),(0,r.kt)("p",{parentName:"li"},"The schema for this table is as follows:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"siteid: type is INT (4 bytes), default value is 10"),(0,r.kt)("li",{parentName:"ul"},"citycode: type is SMALLINT (2 bytes)"),(0,r.kt)("li",{parentName:"ul"},"username: the type is VARCHAR, the maximum length is 32, the default value is an empty string"),(0,r.kt)("li",{parentName:"ul"},"pv: the type is BIGINT (8 bytes), the default value is 0; this is an indicator column, Doris will perform aggregation operations on the indicator column internally, and the aggregation method of this column is sum (SUM)")),(0,r.kt)("p",{parentName:"li"},"The table creation statement is as follows:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"CREATE TABLE table1\n(\n    siteid INT DEFAULT '10',\n    citycode SMALLINT,\n    username VARCHAR(32) DEFAULT '',\n    pv BIGINT SUM DEFAULT '0'\n)\nAGGREGATE KEY(siteid, citycode, username)\nDISTRIBUTED BY HASH(siteid) BUCKETS 10\nPROPERTIES(\"replication_num\" = \"1\");\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"composite partition"),(0,r.kt)("p",{parentName:"li"},"Create a logical table named table2."),(0,r.kt)("p",{parentName:"li"},"The schema for this table is as follows:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"event_day: type is DATE, no default value"),(0,r.kt)("li",{parentName:"ul"},"siteid: type is INT (4 bytes), default value is 10"),(0,r.kt)("li",{parentName:"ul"},"citycode: type is SMALLINT (2 bytes)"),(0,r.kt)("li",{parentName:"ul"},"username: the type is VARCHAR, the maximum length is 32, the default value is an empty string"),(0,r.kt)("li",{parentName:"ul"},"pv: The type is BIGINT (8 bytes), the default value is 0; this is an indicator column, Doris will perform aggregation operations on the indicator column internally, and the aggregation method of this column is sum (SUM)")),(0,r.kt)("p",{parentName:"li"},"We use the event_day column as the partition column and create 3 partitions: p201706, p201707, p201708"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"p201706: Range is [Min, 2017-07-01)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"p201707: The range is [2017-07-01, 2017-08-01)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"p201708: The range is [2017-08-01, 2017-09-01)"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"Note that the interval is left closed and right open.")))),(0,r.kt)("p",{parentName:"li"},"Each partition uses siteid for hash bucketing, and the number of buckets is 10"),(0,r.kt)("p",{parentName:"li"},"The table creation statement is as follows:")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"CREATE TABLE table2\n(\n    event_day DATE,\n    siteid INT DEFAULT '10',\n    citycode SMALLINT,\n    username VARCHAR(32) DEFAULT '',\n    pv BIGINT SUM DEFAULT '0'\n)\nAGGREGATE KEY(event_day, siteid, citycode, username)\nPARTITION BY RANGE(event_day)\n(\n    PARTITION p201706 VALUES LESS THAN ('2017-07-01'),\n    PARTITION p201707 VALUES LESS THAN ('2017-08-01'),\n    PARTITION p201708 VALUES LESS THAN ('2017-09-01')\n)\nDISTRIBUTED BY HASH(siteid) BUCKETS 10\nPROPERTIES(\"replication_num\" = \"1\");\n")),(0,r.kt)("p",{parentName:"li"},"After the table is created, you can view the information of the table in example_db:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"MySQL> SHOW TABLES;\n+----------------------+\n| Tables_in_example_db |\n+----------------------+\n| table1               |\n| table2               |\n+----------------------+\n2 rows in set (0.01 sec)\n\nMySQL> DESC table1;\n+----------+-------------+------+-------+---------+-------+\n| Field    | Type        | Null | Key   | Default | Extra |\n+----------+-------------+------+-------+---------+-------+\n| siteid   | int(11)     | Yes  | true  | 10      |       |\n| citycode | smallint(6) | Yes  | true  | N/A     |       |\n| username | varchar(32) | Yes  | true  |         |       |\n| pv       | bigint(20)  | Yes  | false | 0       | SUM   |\n+----------+-------------+------+-------+---------+-------+\n4 rows in set (0.00 sec)\n\nMySQL> DESC table2;\n+-----------+-------------+------+-------+---------+-------+\n| Field     | Type        | Null | Key   | Default | Extra |\n+-----------+-------------+------+-------+---------+-------+\n| event_day | date        | Yes  | true  | N/A     |       |\n| siteid    | int(11)     | Yes  | true  | 10      |       |\n| citycode  | smallint(6) | Yes  | true  | N/A     |       |\n| username  | varchar(32) | Yes  | true  |         |       |\n| pv        | bigint(20)  | Yes  | false | 0       | SUM   |\n+-----------+-------------+------+-------+---------+-------+\n5 rows in set (0.00 sec)\n")),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"Precautions:"),(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"The above tables are all single-copy tables by setting replication_num. Doris recommends that users use the default 3-copy setting to ensure high availability."),(0,r.kt)("li",{parentName:"ol"},"You can dynamically add or delete partitions to the composite partition table. See the Partition section in ",(0,r.kt)("inlineCode",{parentName:"li"},"HELP ALTER TABLE")," for details."),(0,r.kt)("li",{parentName:"ol"},"Data import can import the specified Partition. See ",(0,r.kt)("inlineCode",{parentName:"li"},"HELP LOAD")," for details."),(0,r.kt)("li",{parentName:"ol"},"The schema of the table can be dynamically modified."),(0,r.kt)("li",{parentName:"ol"},"You can add Rollup to Table to improve query performance. For this part, please refer to the description of Rollup in the Advanced User Guide."),(0,r.kt)("li",{parentName:"ol"},"The Null attribute of the table column defaults to true, which will have a certain impact on query performance."))))))),(0,r.kt)("h4",{id:"insert-data"},"Insert Data"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Insert Into"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"For more detailed syntax and best practices for Insert usage, see ",(0,r.kt)("a",{parentName:"p",href:"../sql-manual/sql-reference/Data-Manipulation-Statements/Manipulation/INSERT.md"},"Insert")," Command Manual.")),(0,r.kt)("p",{parentName:"li"},"The Insert Into statement is used in a similar way to the Insert Into statement in databases such as MySQL. But in Doris, all data writing is a separate import job. Therefore, Insert Into is also introduced as an import method here."),(0,r.kt)("p",{parentName:"li"},"The main Insert Into commands include the following two;"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"INSERT INTO tbl SELECT ..."),(0,r.kt)("li",{parentName:"ul"},"INSERT INTO tbl (col1, col2, ...) VALUES (1, 2, ...), (1,3, ...);")),(0,r.kt)("p",{parentName:"li"},"The second command is for Demo only, not in test or production environments."),(0,r.kt)("p",{parentName:"li"},"The Insert Into command needs to be submitted through the MySQL protocol. Creating an import request will return the import result synchronously."),(0,r.kt)("p",{parentName:"li"},"grammar:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"INSERT INTO table_name [partition_info] [WITH LABEL label] [col_list] [query_stmt] [VALUES];\n")),(0,r.kt)("p",{parentName:"li"},"Example:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},'INSERT INTO tbl2 WITH LABEL label1 SELECT * FROM tbl3;\nINSERT INTO tbl1 VALUES ("qweasdzxcqweasdzxc"),("a");\n')),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Notice")),(0,r.kt)("p",{parentName:"li"},"When using ",(0,r.kt)("inlineCode",{parentName:"p"},"CTE(Common Table Expressions)")," as the query part in an insert operation, the ",(0,r.kt)("inlineCode",{parentName:"p"},"WITH LABEL")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"column list")," parts must be specified. Example"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"INSERT INTO tbl1 WITH LABEL label1\nWITH cte1 AS (SELECT * FROM tbl1), cte2 AS (SELECT * FROM tbl2)\nSELECT k1 FROM cte1 JOIN cte2 WHERE cte1.k1 = 1;\n\nINSERT INTO tbl1 (k1)\nWITH cte1 AS (SELECT * FROM tbl1), cte2 AS (SELECT * FROM tbl2)\nSELECT k1 FROM cte1 JOIN cte2 WHERE cte1.k1 = 1;\n")),(0,r.kt)("p",{parentName:"li"},"Insert Into itself is an SQL command, and its return results are divided into the following types according to the different execution results:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If the return result is ",(0,r.kt)("inlineCode",{parentName:"li"},"ERROR 1064 (HY000)"),", it means the import failed."),(0,r.kt)("li",{parentName:"ul"},"If the returned result is ",(0,r.kt)("inlineCode",{parentName:"li"},"Query OK"),", the execution is successful.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"rows affected")," is 0, the result set is empty and no data is imported."),(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"rows affected")," is greater than 0:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"status")," is ",(0,r.kt)("inlineCode",{parentName:"li"},"committed"),", the data is not yet visible. Need to view status through ",(0,r.kt)("inlineCode",{parentName:"li"},"show transaction")," statement until ",(0,r.kt)("inlineCode",{parentName:"li"},"visible")),(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"status")," is ",(0,r.kt)("inlineCode",{parentName:"li"},"visible"),", the data import is successful."))),(0,r.kt)("li",{parentName:"ul"},"If ",(0,r.kt)("inlineCode",{parentName:"li"},"warnings")," is greater than 0, it means that data is filtered. You can get the url through the ",(0,r.kt)("inlineCode",{parentName:"li"},"show load")," statement to view the filtered lines.")))),(0,r.kt)("p",{parentName:"li"},"For more detailed instructions, see the ",(0,r.kt)("a",{parentName:"p",href:"../sql-manual/sql-reference/Data-Manipulation-Statements/Manipulation/INSERT.md"},"Insert")," command manual.")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Batch Import"),(0,r.kt)("p",{parentName:"li"},"Doris supports multiple data import methods. For details, please refer to the data import documentation. Here we use Stream-Load and Broker-Load as an example."),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Stream-Load"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"For more detailed syntax and best practices used by Stream-Load, see ",(0,r.kt)("a",{parentName:"p",href:"../sql-manual/sql-reference/Data-Manipulation-Statements/Load/STREAM-LOAD.md"},"Stream-Load")," command manual.")),(0,r.kt)("p",{parentName:"li"},"Streaming import transfers data to Doris through the HTTP protocol, and can directly import local data without relying on other systems or components. See ",(0,r.kt)("inlineCode",{parentName:"p"},"HELP STREAM LOAD;")," for detailed syntax help."),(0,r.kt)("p",{parentName:"li"},'Example 1: With "table1_20170707" as the Label, use the local file table1_data to import the table1 table.'),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-CQL"},'curl --location-trusted -u test:test_passwd -H "label:table1_20170707" -H "column_separator:," -T table1_data http://FE_HOST:8030/api/example_db/table1/_stream_load\n')),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"FE_HOST is the IP of the node where any FE is located, and 8030 is the http_port in fe.conf."),(0,r.kt)("li",{parentName:"ol"},"You can use the IP of any BE and the webserver_port in be.conf to import. For example: ",(0,r.kt)("inlineCode",{parentName:"li"},"BE_HOST:8040")))),(0,r.kt)("p",{parentName:"li"},"The local file ",(0,r.kt)("inlineCode",{parentName:"p"},"table1_data")," uses ",(0,r.kt)("inlineCode",{parentName:"p"},",")," as the separation between data, the details are as follows:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"1,1,jim,2\n2,1,grace,2\n3,2,tom,2\n4,3,bush,3\n5,3,helen,3\n")),(0,r.kt)("p",{parentName:"li"},'Example 2: With "table2_20170707" as the Label, use the local file table2_data to import the table2 table.'),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-CQL"},'curl --location-trusted -u test:test -H "label:table2_20170707" -H "column_separator:|" -T table2_data http://127.0.0.1:8030/api/example_db/table2/_stream_load\n')),(0,r.kt)("p",{parentName:"li"},"The local file ",(0,r.kt)("inlineCode",{parentName:"p"},"table2_data")," uses ",(0,r.kt)("inlineCode",{parentName:"p"},"|")," as the separation between data, the details are as follows:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"2017-07-03|1|1|jim|2\n2017-07-05|2|1|grace|2\n2017-07-12|3|2|tom|2\n2017-07-15|4|3|bush|3\n2017-07-12|5|3|helen|3\n")),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"Precautions:"),(0,r.kt)("ol",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ol"},"It is recommended to use streaming import to limit the file size to 10GB. Too large files will increase the cost of failed retry attempts."),(0,r.kt)("li",{parentName:"ol"},"Each batch of imported data needs to take a Label. The Label should preferably be a string related to a batch of data, which is easy to read and manage. Based on Label, Doris guarantees that within a Database, the same batch of data can only be successfully imported once. Labels of failed tasks can be reused."),(0,r.kt)("li",{parentName:"ol"},"Streaming import is a synchronous command. If the command returns successfully, it means that the data has been imported, and if it returns a failure, it means that the batch of data has not been imported.")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Broker-Load"),(0,r.kt)("p",{parentName:"li"},"Broker import uses the deployed Broker process to read data on external storage for import."),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"For more detailed syntax and best practices used by Broker Load, see ",(0,r.kt)("a",{parentName:"p",href:"../sql-manual/sql-reference/Data-Manipulation-Statements/Load/BROKER-LOAD.md"},"Broker Load")," command manual, you can also enter ",(0,r.kt)("inlineCode",{parentName:"p"},"HELP BROKER LOAD")," in the MySql client command line for more help information.")),(0,r.kt)("p",{parentName:"li"},'Example: With "table1_20170708" as the Label, import the files on HDFS into table1'),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},'LOAD LABEL table1_20170708\n(\n    DATA INFILE("hdfs://your.namenode.host:port/dir/table1_data")\n    INTO TABLE table1\n)\nWITH BROKER hdfs \n(\n    "username"="hdfs_user",\n    "password"="hdfs_password"\n)\nPROPERTIES\n(\n    "timeout"="3600",\n    "max_filter_ratio"="0.1"\n);\n')),(0,r.kt)("p",{parentName:"li"},"Broker imports are asynchronous commands. The successful execution of the above command only means that the submitted task is successful. Whether the import is successful needs to be checked through ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW LOAD;"),". Such as:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},'SHOW LOAD WHERE LABEL = "table1_20170708";\n')),(0,r.kt)("p",{parentName:"li"},"In the returned result, if the ",(0,r.kt)("inlineCode",{parentName:"p"},"State")," field is FINISHED, the import is successful."),(0,r.kt)("p",{parentName:"li"},"For more information on ",(0,r.kt)("inlineCode",{parentName:"p"},"SHOW LOAD"),", see ",(0,r.kt)("inlineCode",{parentName:"p"},"HELP SHOW LOAD;")),(0,r.kt)("p",{parentName:"li"},"Asynchronous import tasks can be canceled before they finish:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},'CANCEL LOAD WHERE LABEL = "table1_20170708";\n')))))),(0,r.kt)("h4",{id:"query-data"},"Query Data"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Simple query"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"MySQL> SELECT * FROM table1 LIMIT 3;\n+--------+----------+----------+------+\n| siteid | citycode | username | pv   |\n+--------+----------+----------+------+\n|      2 |        1 | 'grace'  |    2 |\n|      5 |        3 | 'helen'  |    3 |\n|      3 |        2 | 'tom'    |    2 |\n+--------+----------+----------+------+\n3 rows in set (0.01 sec)\n\nMySQL> SELECT * FROM table1 ORDER BY citycode;\n+--------+----------+----------+------+\n| siteid | citycode | username | pv   |\n+--------+----------+----------+------+\n|      2 |        1 | 'grace'  |    2 |\n|      1 |        1 | 'jim'    |    2 |\n|      3 |        2 | 'tom'    |    2 |\n|      4 |        3 | 'bush'   |    3 |\n|      5 |        3 | 'helen'  |    3 |\n+--------+----------+----------+------+\n5 rows in set (0.01 sec)\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Join query"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"MySQL> SELECT SUM(table1.pv) FROM table1 JOIN table2 WHERE table1.siteid = table2.siteid;\n+--------------------+\n| sum(`table1`.`pv`) |\n+--------------------+\n|                 12 |\n+--------------------+\n1 row in set (0.20 sec)\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"subquery"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"MySQL> SELECT SUM(pv) FROM table2 WHERE siteid IN (SELECT siteid FROM table1 WHERE siteid > 2);\n+-----------+\n| sum(`pv`) |\n+-----------+\n|         8 |\n+-----------+\n1 row in set (0.13 sec)\n")))),(0,r.kt)("h4",{id:"update-data"},"Update Data"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"For more detailed syntax and best practices used by Update, see ",(0,r.kt)("a",{parentName:"p",href:"../sql-manual/sql-reference/Data-Manipulation-Statements/Manipulation/UPDATE.md"},"Update")," Command Manual.")),(0,r.kt)("p",null,"The current UPDATE statement ",(0,r.kt)("strong",{parentName:"p"},"only supports")," row updates on the Unique model, and there may be data conflicts caused by concurrent updates. At present, Doris does not deal with such problems, and users need to avoid such problems from the business side."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"grammar rules"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-text"},"UPDATE table_name \n    SET assignment_list\n    WHERE expression\n\nvalue:\n    {expr | DEFAULT}\n\nassignment:\n    col_name = value\n\nassignment_list:\n    assignment [, assignment] ...\n")),(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Parameter Description")),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"table_name: The target table of the data to be updated. Can be of the form 'db_name.table_name'"),(0,r.kt)("li",{parentName:"ul"},"assignment_list: the target column to be updated, in the format 'col_name = value, col_name = value'"),(0,r.kt)("li",{parentName:"ul"},"where expression: the condition that is expected to be updated, an expression that returns true or false can be"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Example"),(0,r.kt)("p",{parentName:"li"},"The ",(0,r.kt)("inlineCode",{parentName:"p"},"test")," table is a unique model table, which contains four columns: k1, k2, v1, v2. Where k1, k2 are keys, v1, v2 are values, and the aggregation method is Replace."),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Update the v1 column in the 'test' table that satisfies the conditions k1 =1 , k2 =2 to 1"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"UPDATE test SET v1 = 1 WHERE k1=1 and k2=2;\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Increment the v1 column of the column k1=1 in the 'test' table by 1"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"UPDATE test SET v1 = v1+1 WHERE k1=1;\n")))))),(0,r.kt)("h4",{id:"delete-data"},"Delete Data"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"For more detailed syntax and best practices for Delete use, see ",(0,r.kt)("a",{parentName:"p",href:"../sql-manual/sql-reference/Data-Manipulation-Statements/Manipulation/DELETE.md"},"Delete")," Command Manual.")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Grammar rules"),(0,r.kt)("p",{parentName:"li"},"This statement is used to conditionally delete data in the specified table (base index) partition."),(0,r.kt)("p",{parentName:"li"},"This operation will also delete the data of the rollup index related to this base index.\ngrammar:"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DELETE FROM table_name [PARTITION partition_name | PARTITIONS (p1, p2)]\nWHERE\ncolumn_name1 op { value | value_list } [ AND column_name2 op { value | value_list } ...];\n")),(0,r.kt)("p",{parentName:"li"},"illustrate:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Optional types of op include: =, >, <, >=, <=, !=, in, not in")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Only conditions on the key column can be specified.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Cannot delete when the selected key column does not exist in a rollup.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Conditions can only have an AND relationship."),(0,r.kt)("p",{parentName:"li"},'If you want to achieve an "or" relationship, you need to write the conditions in two DELETE statements.')),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If it is a partitioned table, you can specify a partition, if not specified and the session variable delete_without_partition is true, it will be applied to all partitions. If it is a single-partition table, it can be left unspecified."))),(0,r.kt)("p",{parentName:"li"},"Notice:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"This statement may reduce query efficiency for a period of time after execution."),(0,r.kt)("li",{parentName:"ul"},"The degree of impact depends on the number of delete conditions specified in the statement."),(0,r.kt)("li",{parentName:"ul"},"The more conditions you specify, the greater the impact."))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Example"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"Delete the data row whose k1 column value is 3 in my_table partition p1"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},"DELETE FROM my_table PARTITION p1 WHERE k1 = 3;\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Delete the data rows where the value of column k1 is greater than or equal to 3 and the value of column k2 is "abc" in my_table partition p1'),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'DELETE FROM my_table PARTITION p1 WHERE k1 >= 3 AND k2 = "abc";\n'))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},'Delete the data rows where the value of column k1 is greater than or equal to 3 and the value of column k2 is "abc" in my_table partition p1, p2'),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-sql"},'DELETE FROM my_table PARTITIONS (p1, p2) WHERE k1 >= 3 AND k2 = "abc";\n')))))))}c.isMDXComponent=!0}}]);