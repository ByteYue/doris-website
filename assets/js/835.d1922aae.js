(window.webpackJsonp=window.webpackJsonp||[]).push([[835],{1463:function(s,a,t){"use strict";t.r(a);var n=t(15),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"apache-doris-arm-架构编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#apache-doris-arm-架构编译"}},[s._v("#")]),s._v(" Apache Doris ARM 架构编译")]),s._v(" "),t("p",[s._v("本文档介绍如何在 ARM64 平台上编译 Doris。")]),s._v(" "),t("p",[s._v("注意，该文档仅作为指导性文档。在不同环境中编译可能出现其他错误。")]),s._v(" "),t("h2",{attrs:{id:"kylinos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kylinos"}},[s._v("#")]),s._v(" KylinOS")]),s._v(" "),t("h3",{attrs:{id:"软硬件环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软硬件环境"}},[s._v("#")]),s._v(" 软硬件环境")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("KylinOS 版本：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$> cat /etc/.kyinfo\nname=Kylin-Server\nmilestone=10-SP1-Release-Build04-20200711\narch=arm64\nbeta=False\ntime=2020-07-11 17:16:54\ndist_id=Kylin-Server-10-SP1-Release-Build04-20200711-arm64-2020-07-11 17:16:54\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("CPU型号：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$> cat /proc/cpuinfo\nmodel name  : Phytium,FT-2000+/64\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])]),s._v(" "),t("h3",{attrs:{id:"使用-ldb-toolchain-编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-ldb-toolchain-编译"}},[s._v("#")]),s._v(" 使用 ldb-toolchain 编译")]),s._v(" "),t("p",[s._v("该方法适用于 "),t("a",{attrs:{href:"https://github.com/apache/incubator-doris/commit/7f3564cca62de49c9f2ea67fcf735921dbebb4d1",target:"_blank",rel:"noopener noreferrer"}},[s._v("commit 7f3564"),t("OutboundLink")],1),s._v(" 之后的 Doris 版本。")]),s._v(" "),t("p",[s._v("下载 "),t("a",{attrs:{href:"https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.9.1/ldb_toolchain_gen.aarch64.sh",target:"_blank",rel:"noopener noreferrer"}},[s._v("ldb_toolchain_gen.aarch64.sh"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("之后的编译方式参阅 "),t("RouterLink",{attrs:{to:"/zh-CN/docs/install/source-install/compilation-with-ldb-toolchain.html"}},[s._v("使用 LDB toolchain 编译")])],1),s._v(" "),t("p",[s._v("注意其中 jdk 和 nodejs 都需要下载对应的 aarch64 版本：")]),s._v(" "),t("ol",[t("li",[t("a",{attrs:{href:"https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u291-linux-aarch64.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[s._v("Java8-aarch64"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v16.3.0-linux-arm64.tar.xz",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node v12.13.0-aarch64"),t("OutboundLink")],1)])]),s._v(" "),t("h2",{attrs:{id:"centos-ubuntu"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-ubuntu"}},[s._v("#")]),s._v(" CentOS & Ubuntu")]),s._v(" "),t("h3",{attrs:{id:"硬件环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#硬件环境"}},[s._v("#")]),s._v(" 硬件环境")]),s._v(" "),t("ol",[t("li",[s._v("系统版本：CentOS 8.4、Ubuntu 20.04")]),s._v(" "),t("li",[s._v("系统架构：ARM X64")]),s._v(" "),t("li",[s._v("CPU：4 C")]),s._v(" "),t("li",[s._v("内存：16 GB")]),s._v(" "),t("li",[s._v("硬盘：40GB（SSD）、100GB（SSD）")])]),s._v(" "),t("h3",{attrs:{id:"软件环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件环境"}},[s._v("#")]),s._v(" 软件环境")]),s._v(" "),t("h4",{attrs:{id:"软件环境对照表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件环境对照表"}},[s._v("#")]),s._v(" 软件环境对照表")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("组件名称")]),s._v(" "),t("th",[s._v("组件版本")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Git")]),s._v(" "),t("td",[s._v("2.0+")])]),s._v(" "),t("tr",[t("td",[s._v("JDK")]),s._v(" "),t("td",[s._v("1.8.0")])]),s._v(" "),t("tr",[t("td",[s._v("Maven")]),s._v(" "),t("td",[s._v("3.6.3")])]),s._v(" "),t("tr",[t("td",[s._v("NodeJS")]),s._v(" "),t("td",[s._v("16.3.0")])]),s._v(" "),t("tr",[t("td",[s._v("LDB-Toolchain")]),s._v(" "),t("td",[s._v("0.9.1")])]),s._v(" "),t("tr",[t("td",[s._v("常备环境："),t("br"),s._v("byacc"),t("br"),s._v("patch"),t("br"),s._v("automake"),t("br"),s._v("libtool"),t("br"),s._v("make"),t("br"),s._v("which"),t("br"),s._v("file"),t("br"),s._v("ncurses-devel"),t("br"),s._v("gettext-devel"),t("br"),s._v("unzip"),t("br"),s._v("bzip2"),t("br"),s._v("zip"),t("br"),s._v("util-linux"),t("br"),s._v("wget"),t("br"),s._v("git"),t("br"),s._v("python2")]),s._v(" "),t("td",[s._v("yum或apt自动安装即可")])]),s._v(" "),t("tr",[t("td",[s._v("autoconf")]),s._v(" "),t("td",[s._v("2.69")])]),s._v(" "),t("tr",[t("td",[s._v("bison")]),s._v(" "),t("td",[s._v("3.0.4")])])])]),s._v(" "),t("h4",{attrs:{id:"软件环境安装命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#软件环境安装命令"}},[s._v("#")]),s._v(" 软件环境安装命令")]),s._v(" "),t("h5",{attrs:{id:"centos-8-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos-8-4"}},[s._v("#")]),s._v(" CentOS 8.4")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("创建软件下载安装包根目录和软件安装根目录")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建软件下载安装包根目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建软件安装根目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /opt/software\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("Git")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省去编译麻烦，直接使用 yum 安装")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("JDK8")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 两种方式，第一种是省去额外下载和配置，直接使用 yum 安装，安装 devel 包是为了获取一些工具，如 jps 命令")]),s._v("\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y java-1.8.0-openjdk java-1.8.0-openjdk-devel\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 第二种是下载 arm64 架构的安装包，解压配置环境变量后使用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u291-linux-aarch64.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf jdk-8u291-linux-aarch64.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" jdk1.8.0_291 /opt/software/jdk8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("Maven")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget 工具下载后，直接解压缩配置环境变量使用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://dlcdn.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf apache-maven-3.6.3-bin.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" apache-maven-3.6.3 /opt/software/maven\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("NodeJS")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载 arm64 架构的安装包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v16.3.0-linux-arm64.tar.xz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf node-v16.3.0-linux-arm64.tar.xz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" node-v16.3.0-linux-arm64 /opt/software/nodejs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("LDB-Toolchain")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载 LDB-Toolchain ARM 版本")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.9.1/ldb_toolchain_gen.aarch64.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" ldb_toolchain_gen.aarch64.sh /opt/software/ldb_toolchain/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置环境变量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile.d/doris.sh\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/jdk8\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MAVEN_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/maven\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NODE_JS_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/nodejs\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LDB_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/ldb_toolchain\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MAVEN_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NODE_JS_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LDB_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存退出并刷新环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile.d/doris.sh\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试是否成功")]),s._v("\njava -version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" java version "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.0_291"')]),s._v("\nmvn -version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Apache Maven "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),s._v(".3\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" --version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" v16.3.0\ngcc --version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" gcc-11\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("安装其他额外环境和组件")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install required system packages")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y byacc patch automake libtool "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" ncurses-devel gettext-devel "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v(" bison "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("zip")]),s._v(" util-linux "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" python2\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install autoconf-2.69")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxf autoconf-2.69.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" autoconf-2.69 /opt/software/autoconf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/software/autoconf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    ./configure "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])])]),s._v(" "),t("h5",{attrs:{id:"ubuntu-20-04"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu-20-04"}},[s._v("#")]),s._v(" Ubuntu 20.04")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("更新 apt-get 软件库")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("检查 shell 命令集")]),s._v(" "),t("p",[s._v("ubuntu 的 shell 默认安装的是 dash，而不是 bash，要切换成 bash 才能执行，运行以下命令查看 sh 的详细信息，确认 shell 对应的程序是哪个：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" -al /bin/sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("通过以下方式可以使 shell 切换回 bash：")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dpkg-reconfigure dash\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("然后选择 no 或者 否 ，并确认")]),s._v(" "),t("p",[s._v("这样做将重新配置 dash，并使其不作为默认的 shell 工具")])]),s._v(" "),t("li",[t("p",[s._v("创建软件下载安装包根目录和软件安装根目录")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建软件下载安装包根目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建软件安装根目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /opt/software\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("Git")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 省去编译麻烦，直接使用 apt-get 安装")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("JDK8")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载 arm64 架构的安装包，解压配置环境变量后使用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/jdk-8u291-linux-aarch64.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf jdk-8u291-linux-aarch64.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" jdk1.8.0_291 /opt/software/jdk8\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("Maven")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# wget 工具下载后，直接解压缩配置环境变量使用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://dlcdn.apache.org/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf apache-maven-3.6.3-bin.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" apache-maven-3.6.3 /opt/software/maven\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("NodeJS")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载 arm64 架构的安装包")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://doris-thirdparty-repo.bj.bcebos.com/thirdparty/node-v16.3.0-linux-arm64.tar.xz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf node-v16.3.0-linux-arm64.tar.xz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" node-v16.3.0-linux-arm64 /opt/software/nodejs\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("LDB-Toolchain")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载 LDB-Toolchain ARM 版本")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://github.com/amosbird/ldb_toolchain_gen/releases/download/v0.9.1/ldb_toolchain_gen.aarch64.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" ldb_toolchain_gen.aarch64.sh /opt/software/ldb_toolchain/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("配置环境变量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile.d/doris.sh\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/jdk8\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MAVEN_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/maven\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("NODE_JS_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/nodejs\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LDB_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/ldb_toolchain\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$MAVEN_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NODE_JS_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LDB_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存退出并刷新环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile.d/doris.sh\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试是否成功")]),s._v("\njava -version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" java version "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.0_291"')]),s._v("\nmvn -version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" Apache Maven "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.6")]),s._v(".3\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" --version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" v16.3.0\ngcc --version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" gcc-11\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("安装其他额外环境和组件")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install required system packages")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y build-essential cmake flex automake bison binutils-dev libiberty-dev "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("zip")]),s._v(" libncurses5-dev "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" ninja-build\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y python2\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y byacc\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y automake\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y libtool\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bzip2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" add-apt-repository ppa:ubuntu-toolchain-r/ppa \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc-11 g++-11 \n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" autoconf autopoint\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# install autoconf-2.69")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/tools\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxf autoconf-2.69.tar.gz "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" autoconf-2.69 /opt/software/autoconf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/software/autoconf "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    ./configure "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br")])])])]),s._v(" "),t("h4",{attrs:{id:"下载源码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载源码"}},[s._v("#")]),s._v(" 下载源码")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" clone https://github.com/apache/doris.git\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"安装部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装部署"}},[s._v("#")]),s._v(" 安装部署")]),s._v(" "),t("h5",{attrs:{id:"查看是否支持-avx2-指令集"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看是否支持-avx2-指令集"}},[s._v("#")]),s._v(" 查看是否支持 AVX2 指令集")]),s._v(" "),t("p",[s._v("若有数据返回，则代表支持，若无数据返回，则代表不支持")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /proc/cpuinfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" avx2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h5",{attrs:{id:"执行编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#执行编译"}},[s._v("#")]),s._v(" 执行编译")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 支持 AVX2 指令集的机器，直接编译即可")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" build.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不支持 AVX2 指令集的机器，使用如下命令编译")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("USE_AVX2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("OFF "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" build.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h3",{attrs:{id:"常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("编译第三方库 libhdfs3.a ，找不到文件夹")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("p",[s._v("在执行编译安装过程中，出现了如下报错")]),s._v(" "),t("blockquote",[t("p",[s._v("not found lib/libhdfs3.a file or directory")])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("第三方库的依赖下载有问题")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("使用第三方下载仓库")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("REPOSITORY_URL")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://doris-thirdparty-repo.bj.bcebos.com/thirdparty\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" /opt/doris/thirdparty/build-thirdparty.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("REPOSITORY_URL 中包含所有第三方库源码包和他们的历史版本。")])])])])])]),s._v(" "),t("li",[t("p",[s._v("python 命令未找到")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("执行 build.sh 时抛出异常")]),s._v(" "),t("blockquote",[t("p",[s._v("/opt/doris/env.sh: line 46: python: command not found")]),s._v(" "),t("p",[s._v("Python 2.7.18")])])])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("经查找，发现该系统默认使用 "),t("code",[s._v("python2.7")]),s._v("、 "),t("code",[s._v("python3.6")]),s._v("、"),t("code",[s._v("python2")]),s._v("、"),t("code",[s._v("python3")]),s._v(" 这几个命令来执行 python 命令，Doris安装依赖需要 python 2.7+ 版本即可，故只需要添加名为 "),t("code",[s._v("python")]),s._v(" 的命令连接即可，使用版本2和版本3的都可以")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("p",[s._v("建立 "),t("code",[s._v("\\usr\\bin")]),s._v(" 中 "),t("code",[s._v("python")]),s._v(" 命令的软连接")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看python安装目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("whereis")]),s._v(" python\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 建立软连接")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s /usr/bin/python2.7 /usr/bin/python\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("编译结束后没有 output 目录")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("ul",[t("li",[s._v("build.sh 执行结束后，目录中未发现 output 文件夹.")])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("未成功编译，需重新编译")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" build.sh --clean\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("spark-dpp 编译失败")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("执行 build.sh 编译以后，编译至 Spark-DPP 报错失败")]),s._v(" "),t("blockquote",[t("p",[s._v("Failed to execute goal on project spark-dpp")])])])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("最后的错误提示，是由于下载失败（且由于是未能连接到 repo.maven.apache.org 中央仓库）的问题")]),s._v(" "),t("blockquote",[t("p",[s._v("Could not transfer artifact org.apache.spark:spark-sql_2.12:jar:2.4.6 from/to central (https://repo.maven.apache.org/maven2): Transfer failed for https://repo.maven.apache.org/maven2/org/apache/spark/spark-sql_2.12/2.4.6/spark-sql_2.12-2.4.6.jar: Unknown host repo.maven.apache.org")])]),s._v(" "),t("p",[s._v("重新 build")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("ul",[t("li",[s._v("重新 build")])])])])]),s._v(" "),t("li",[t("p",[s._v("剩余空间不足，编译失败")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("编译过程中报 构建 CXX 对象失败，提示剩余空间不足")]),s._v(" "),t("blockquote",[t("p",[s._v("fatal error: error writing to /tmp/ccKn4nPK.s: No space left on device\n1112 | } // namespace doris::vectorized\ncompilation terminated.")])])])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("设备剩余空间不足")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("p",[s._v("扩大设备剩余空间，如删除不需要的文件等")])])])]),s._v(" "),t("li",[t("p",[s._v("启动FE失败，事务-20 问题")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("p",[s._v("在启动 FE 时，报事务错误 20 问题，状态为 UNKNOWN")]),s._v(" "),t("blockquote",[t("p",[s._v("[BDBEnvironment.setup():198] error to open replicated environment. will exit.\ncom.sleepycat.je.rep.ReplicaWriteException: (JE 18.3.12) Problem closing transaction 20. The current state is:UNKNOWN. The node transitioned to this state at:Fri Apr 22 12:48:08 CST 2022")])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("硬盘空间不足，需更多空间")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("p",[s._v("释放硬盘空间或者挂载新硬盘")])])])]),s._v(" "),t("li",[t("p",[s._v("BDB 环境设置异常，磁盘寻找错误")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("p",[s._v("在迁移 FE 所在的盘符后启动 FE 报异常")]),s._v(" "),t("blockquote",[t("p",[s._v("2022-04-22 16:21:44,092 ERROR (MASTER 172.28.7.231_9010_1650606822109(-1)|1) [BDBJEJournal.open():306] catch an exception when setup bdb environment. will exit.\ncom.sleepycat.je.DiskLimitException: (JE 18.3.12) Disk usage is not within je.maxDisk or je.freeDisk limits and write operations are prohibited: maxDiskLimit=0 freeDiskLimit=5,368,709,120 adjustedMaxDiskLimit=0 maxDiskOverage=0 freeDiskShortage=1,536,552,960 diskFreeSpace=3,832,156,160 availableLogSize=-1,536,552,960 totalLogSize=4,665 activeLogSize=4,665 reservedLogSize=0 protectedLogSize=0 protectedLogSizeMap={}")])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("迁移了 FE 所在的位置，元数据存储的硬盘信息无法匹配到，或者该硬盘损坏或未挂载")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("ul",[t("li",[s._v("检查硬盘是否正常，是否初始化并正确挂载")]),s._v(" "),t("li",[s._v("修复 FE 元数据")]),s._v(" "),t("li",[s._v("若为测试机器，则可以删除元数据目录重新启动")])])])])]),s._v(" "),t("li",[t("p",[s._v("在 pkg.config 中找不到 pkg.m4 文件")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("编译过程中出现了找不到文件错误，报错如下")]),s._v(" "),t("blockquote",[t("p",[s._v("Couldn't find pkg.m4 from pkg-config. Install the appropriate package for your distribution or set ACLOCAL_PATH to the directory containing pkg.m4.")])])]),s._v(" "),t("li",[t("p",[s._v("通过查找上面的日志，发现是 "),t("code",[s._v("libxml2")]),s._v(" 这个三方库在编译的时候出现了问题")])])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[t("code",[s._v("libxml2")]),s._v(" 三方库编译错误，找不到 pkg.m4 文件")]),s._v(" "),t("p",[t("em",[t("strong",[s._v("猜测：")])])]),s._v(" "),t("ol",[t("li",[s._v("Ubuntu 系统加载环境变量时有异常，导致 ldb 目录下的索引未被成功加载")]),s._v(" "),t("li",[s._v("在 libxml2 编译时检索环境变量失效，导致编译过程没有检索到 ldb/aclocal 目录")])])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("p",[s._v("将 ldb/aclocal 目录下的 "),t("code",[s._v("pkg.m4")]),s._v(" 文件拷贝至 libxml2/m4 目录下，重新编译第三方库")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /opt/software/ldb_toolchain/share/aclocal/pkg.m4 /opt/doris/thirdparty/src/libxml2-v2.9.10/m4\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" /opt/doris/thirdparty/build-thirdparty.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("执行测试 CURL_HAS_TLS_PROXY 失败")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("三方包编译过程报错，错误如下")]),s._v(" "),t("blockquote",[t("p",[s._v('-- Performing Test CURL_HAS_TLS_PROXY - Failed\nCMake Error at cmake/dependencies.cmake:15 (get_property):\nINTERFACE_LIBRARY targets may only have whitelisted properties.  The\nproperty "LINK_LIBRARIES_ALL" is not allowed.')])])]),s._v(" "),t("li",[t("p",[s._v("查看日志以后，发现内部是由于 curl "),t("code",[s._v("No such file or directory")])]),s._v(" "),t("blockquote",[t("p",[s._v("fatal error: curl/curl.h: No such file or directory\n2 |     #include <curl/curl.h>\ncompilation terminated.\nninja: build stopped: subcommand failed.")])])])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("编译环境有错误，查看 gcc 版本后发现是系统自带的 9.3.0 版本，故而没有走 ldb 编译，需设置 ldb 环境变量")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("p",[s._v("配置 ldb 环境变量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile.d/ldb.sh\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LDB_HOME")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/software/ldb_toolchain\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LDB_HOME")]),s._v("/bin:"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存退出并刷新环境变量")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile.d/ldb.sh\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 测试")]),s._v("\ngcc --version\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" gcc-11\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])])])])]),s._v(" "),t("li",[t("p",[s._v("其他异常问题")])])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("问题描述")]),s._v(" "),t("p",[s._v("如有以下组件的错误提示，则统一以该方案解决")]),s._v(" "),t("ul",[t("li",[s._v("bison 相关\n"),t("ol",[t("li",[s._v("安装 bison-3.0.4 时报 fseterr.c 错误")])])]),s._v(" "),t("li",[s._v("flex 相关\n"),t("ol",[t("li",[s._v("flex 命令未找到")])])]),s._v(" "),t("li",[s._v("cmake 相关\n"),t("ol",[t("li",[s._v("cmake 命令未找到")]),s._v(" "),t("li",[s._v("cmake 找不到依赖库")]),s._v(" "),t("li",[s._v("cmake 找不到 CMAKE_ROOT")]),s._v(" "),t("li",[s._v("cmake 环境变量 CXX 中找不到编译器集")])])]),s._v(" "),t("li",[s._v("boost 相关\n"),t("ol",[t("li",[s._v("Boost.Build 构建引擎失败")])])]),s._v(" "),t("li",[s._v("mysql 相关\n"),t("ol",[t("li",[s._v("找不到 mysql 的客户端依赖 a 文件")])])]),s._v(" "),t("li",[s._v("gcc 相关\n"),t("ol",[t("li",[s._v("GCC 版本需要11+")])])])])]),s._v(" "),t("li",[t("p",[s._v("问题原因")]),s._v(" "),t("p",[s._v("未使用 Ldb-Toolschain 进行编译")])]),s._v(" "),t("li",[t("p",[s._v("解决方案")]),s._v(" "),t("ul",[t("li",[s._v("检查 Ldb-Toolschain 环境变量是否配置")]),s._v(" "),t("li",[s._v("查看 gcc 版本是否是 "),t("code",[s._v("gcc-11")])]),s._v(" "),t("li",[s._v("删除 "),t("code",[s._v("ldb-toolschain.sh")]),s._v(" 脚本执行后的 ldb 目录，重新执行并配置环境变量，验证 gcc 版本")])])])])])}),[],!1,null,null,null);a.default=e.exports}}]);